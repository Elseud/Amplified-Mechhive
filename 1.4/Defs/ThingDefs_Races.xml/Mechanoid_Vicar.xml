<?xml version="1.0" encoding="utf-8"?>
<Defs>
    <ThingDef ParentName="BaseMechanoid">
        <defName>AM_Vicar</defName>
		<label>vicar</label>
		<description>A light support mechanoid equipped with a mechnoid amplifier. It can reinforce other mechanoids in the heat of the battle, prioritizing the toughest of allies.</description>

		<statBases>
			<MoveSpeed>4.7</MoveSpeed>
            <ArmorRating_Blunt>0.20</ArmorRating_Blunt>
            <ArmorRating_Sharp>0.40</ArmorRating_Sharp>
		</statBases>

        <tools Inherit="False">
			<li>
                <label>left fist</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>12.0</power>
                <cooldownTime>2</cooldownTime>
                <linkedBodyPartsGroup>LeftHand</linkedBodyPartsGroup>
                <alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
              </li>

              <li>
                <label>right fist</label>
                <capacities>
                    <li>Blunt</li>
                </capacities>
                <power>12.0</power>
                <cooldownTime>2</cooldownTime>
                <linkedBodyPartsGroup>RightHand</linkedBodyPartsGroup>
                <alwaysTreatAsWeapon>true</alwaysTreatAsWeapon>
              </li>
              <li>
                <label>head</label>
                <capacities>
                  <li>Blunt</li>
                </capacities>
                <power>8.5</power>
                <cooldownTime>2</cooldownTime>
                <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
                <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
                <chanceFactor>0.2</chanceFactor>
              </li>
		</tools>

        <race>
			<intelligence>ToolUser</intelligence>
			<thinkTreeMain>Mechanoid</thinkTreeMain>
			<body>AM_MechanicalVicar</body>
			<baseBodySize>1.00</baseBodySize>
			<baseHealthScale>1.00</baseHealthScale>

			<lifeStageAges Inherit="False">
				<li>
					<def>MechanoidFullyFormed</def>
					<minAge>0</minAge>
					<soundWounded>Pawn_Mech_Scyther_Wounded</soundWounded>
					<soundDeath>Pawn_Mech_Scyther_Death</soundDeath>
					<soundCall>Pawn_Mech_Scyther_Call</soundCall>
				</li>

				<li>
					<def>MechanoidFullyFormed</def>
					<minAge>100</minAge>
					<soundWounded>Pawn_Mech_Scyther_Wounded</soundWounded>
					<soundDeath>Pawn_Mech_Scyther_Death</soundDeath>
					<soundCall>Pawn_Mech_Scyther_Call</soundCall>
				</li>
			</lifeStageAges>

			<soundCallIntervalRange>1000~2000</soundCallIntervalRange>
			<soundMeleeHitPawn>Pawn_Melee_Punch_HitPawn</soundMeleeHitPawn>
            <soundMeleeHitBuilding>Pawn_Melee_Punch_HitBuilding</soundMeleeHitBuilding>
            <soundMeleeMiss>Pawn_Melee_Punch_Miss</soundMeleeMiss>
			<mechWeightClass>Medium</mechWeightClass>
		</race>

		<butcherProducts>
            <Steel>20</Steel>
        </butcherProducts>

    </ThingDef>

	<PawnKindDef parentName="BaseMechanoidKind">
		<defName>AM_Vicar</defName>
		<label>vicar</label>
		<race>AM_Vicar</race>
		<combatPower>250</combatPower>
		<defaultFactionType>Mechanoid</defaultFactionType>

		<lifeStages Inherit="False">
			<li>
				<bodyGraphicData>
					<texPath>Things/Pawn/Mechanoid/Mech_Vicar/VicarClean</texPath>
					<maskPath>Things/Pawn/Mechanoid/AllegianceOverlays/Vicar</maskPath>
					<shaderType>CutoutWithOverlay</shaderType>
					<graphicClass>Graphic_Multi</graphicClass>
                    <drawSize>1.5</drawSize>
                    <shadowData>
                      <volume>(0.4, 0.8, 0.4)</volume>
                    </shadowData>
				</bodyGraphicData>
			</li>

			<li>
				<bodyGraphicData>
					<texPath>Things/Pawn/Mechanoid/Mech_Vicar/Vicar</texPath>
					<maskPath>Things/Pawn/Mechanoid/AllegianceOverlays/Vicar</maskPath>
					<shaderType>CutoutWithOverlay</shaderType>
					<graphicClass>Graphic_Multi</graphicClass>
                    <drawSize>1.5</drawSize>
                    <shadowData>
                      <volume>(0.4, 0.8, 0.4)</volume>
                    </shadowData>
				</bodyGraphicData>
			</li>
		</lifeStages>

        <techHediffsChance>1</techHediffsChance>
        <techHediffsMoney>9999~9999</techHediffsMoney>

		<abilities>
			<li>AM_VicarBeam</li>
		</abilities>

        <weaponMoney>9999~9999</weaponMoney>

        <weaponTags>
            <li>AM_Tool_Amplifier</li>
        </weaponTags>
	</PawnKindDef>

	<HediffDef>
		<defName>AM_VicarBuff</defName>
		<label>amplifying nanites</label>
		<description>A swarm of powerful amplifying nanites that enhance both armor and weapons.</description>
		<defaultLabelColor>(0.7, 0.5, 0.9)</defaultLabelColor>
		<hediffClass>HediffWithComps</hediffClass>
		<stages>
			<li>
                <statOffsets>
                    <AimingDelayFactor>-0.2</AimingDelayFactor>
                    <ArmorRating_Sharp>0.15</ArmorRating_Sharp>
                    <ArmorRating_Blunt>0.15</ArmorRating_Blunt>
					<IncomingDamageFactor>-0.3</IncomingDamageFactor>
                </statOffsets>
			</li>
		</stages>

		<comps>
			<li Class="AmplifiedMechhive.HediffCompProperties_VicarBeam">
				<destroyOnDowned>false</destroyOnDowned>
			</li>

			<li Class="AthenaFramework.HediffCompProperties_DamageAmplifier">
				<damageMultiplier>1.2</damageMultiplier>
			</li>

			<li Class="AthenaFramework.HediffCompProperties_Renderable">
				<attachedMoteDef>Mote_MechVicarGlow</attachedMoteDef>
			</li>
		</comps>
	</HediffDef>

	<HediffDef>
		<defName>AM_VicarTracker</defName>
		<label>vicar tracker</label>
		<description>Keeps track of the vicar's status. You weren't supposed to see this.</description>
		<hediffClass>HediffWithComps</hediffClass>
		<stages>
			<li>
			  <becomeVisible>false</becomeVisible>
			</li>
		</stages>

		<comps>
			<li Class="AmplifiedMechhive.HediffCompProperties_VicarBeam">
				<destroyOnDowned>true</destroyOnDowned>
			</li>
		</comps>
	</HediffDef>

	
    <ThingDef ParentName="MoteBase">
        <defName>Mote_MechVicarGlow</defName>
        <thingClass>MoteAttached</thingClass>
        <altitudeLayer>MoteOverhead</altitudeLayer>
        <mote>
            <fadeInTime>0.25</fadeInTime>
            <fadeOutTime>0.25</fadeOutTime>
            <solidTime>999999</solidTime>
            <needsMaintenance>True</needsMaintenance>
            <fadeOutUnmaintained>True</fadeOutUnmaintained>
        </mote>
        <graphicData>
            <graphicClass>Graphic_PawnBodySilhouette</graphicClass>
            <color>(0.7, 0.5, 0.9, 0.75)</color>
            <shaderType>MoteMultiplyAddScroll</shaderType>
            <texPath>Things/Mote/Transparent</texPath>
            <shaderParameters>
                <_MultiplyTexA>/Things/Mote/Cloudy_A</_MultiplyTexA>
                <_MultiplyTexB>/Things/Mote/Cloudy_C</_MultiplyTexB>
                <_DistortionTex>/Things/Mote/Cloudy_C</_DistortionTex>
                <_DetailTex>/Things/Mote/RadiationDistortion_D</_DetailTex>
                <_detailIntensity>1.3</_detailIntensity>
                <_texAScale>0.3</_texAScale>
                <_texBScale>0.35</_texBScale>
                <_DetailScale>0.9</_DetailScale>
                <_texAScrollSpeed>(0, 0.015, 0)</_texAScrollSpeed>
                <_texBScrollSpeed>(0.01, -0.015, 0)</_texBScrollSpeed>
                <_DetailScrollSpeed>(0.0, 0.025, 0)</_DetailScrollSpeed>
                <_DistortionScrollSpeed>(0.03, 0.075, 0)</_DistortionScrollSpeed>
                <_DetailOffset>(0.1, 0.0)</_DetailOffset>
                <_DetailDistortion>0.3</_DetailDistortion>
                <_OutlineMultiplier>0.3</_OutlineMultiplier>
            </shaderParameters>
        </graphicData>
    </ThingDef>

	
    <ThingDef ParentName="MoteBase">
        <defName>Mote_VicarBeamBase</defName>
        <thingClass>MoteDualAttached</thingClass>
        <altitudeLayer>MoteOverhead</altitudeLayer>
        <mote>
			<fadeInTime>0.2</fadeInTime>
			<fadeOutTime>0.3</fadeOutTime>
			<solidTime>999999</solidTime>
			<rotateTowardsTarget>True</rotateTowardsTarget>
			<scaleToConnectTargets>True</scaleToConnectTargets>
        </mote>
        <drawOffscreen>true</drawOffscreen>
        <graphicData>
			<texPath>Things/Effects/VicarAmplifierBeam</texPath>
			<graphicClass>Graphic_MoteWithAgeSecs</graphicClass>
			<shaderType>MoteBeam</shaderType>
			<shaderParameters>
				<_ExtraTexA>/Things/Mote/BeamSecondaryNoise_A</_ExtraTexA>
				<_ExtraTexB>/Things/Mote/BeamSecondaryNoise_B</_ExtraTexB>
				<_ScrollSpeedA>-4</_ScrollSpeedA>
				<_ScrollSpeedB>3</_ScrollSpeedB>
				<_Intensity>2</_Intensity>
			</shaderParameters>
        </graphicData>
      </ThingDef>

</Defs>
